<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>News AI Aggregator - Headlines</title>
    <!-- Use a modern font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto+Slab:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: 'Roboto Slab', serif;
        background-color: #f5f5f5;
        color: #1a1a1a;
      }
      .newspaper-container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 2rem;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      }
      .masthead {
        text-align: center;
        border-bottom: 2px solid #000;
        padding-bottom: 1.5rem;
        margin-bottom: 2rem;
      }
      .masthead h1 {
        font-family: 'Playfair Display', serif;
        font-size: 3.5rem;
        font-weight: 700;
        color: #000;
        margin: 0;
      }
      .masthead p {
        font-size: 1rem;
        font-style: italic;
        color: #666;
        margin: 0.5rem 0 0;
      }
      .content-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
      }
      .main-section {
        border-right: 1px solid #ddd;
        padding-right: 2rem;
      }
      .main-article h2 {
        font-family: 'Playfair Display', serif;
        font-size: 2.25rem;
        font-weight: 700;
        line-height: 1.2;
        margin-bottom: 1rem;
      }
      .main-article .article-meta {
        font-size: 0.85rem;
        color: #777;
        margin-bottom: 1.5rem;
      }
      .main-article .article-content p {
        line-height: 1.7;
        font-size: 1rem;
      }
      .headlines-list h3 {
        font-family: 'Playfair Display', serif;
        font-size: 1.75rem;
        font-weight: 700;
        border-bottom: 1px solid #000;
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
      }
      .list-group-item {
        border-left: none;
        border-right: none;
        border-radius: 0;
        font-size: 1rem;
        padding: 1rem 0;
      }
      .list-group-item:first-child {
        border-top: none;
      }
      .list-group-item:hover {
        background-color: #f0f0f0;
      }
      footer {
        border-top: 1px solid #ddd;
        padding-top: 1rem;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <div class="newspaper-container">
      <!-- Masthead -->
      <header class="masthead">
        <h1>News AI Aggregator</h1>
        <p>Your Daily Dose of AI-Powered Headlines</p>
      </header>

      <main class="content-grid">
        <!-- Main Feature Section -->
        <section class="main-section">
          <div class="main-article">
            {% if headlines %}
              <div class="mb-4">
                <h2>{{ headlines[0].headline }}</h2>
                <div class="article-meta">
                  <small>By AI Aggregator</small>
                </div>
                {% if headlines[0].image_url %}
                <img
                  src="{{ headlines[0].image_url }}"
                  alt="{{ headlines[0].headline }}"
                  class="img-fluid rounded mb-3"
                />
                {% else %}
                <img
                  src="https://placehold.co/800x450/e0e0e0/ffffff?text=Image+Not+Available"
                  alt="Image not available"
                  class="img-fluid rounded mb-3"
                />
                {% endif %}
                <p>
                  This is a placeholder for the top AI-generated headline and a brief summary.
                  This section is designed to draw the user's eye and highlight the most
                  important story of the moment, just like the front page of a newspaper.
                </p>
                <a href="{{ headlines[0].link }}" class="btn btn-dark rounded-full px-4">Read Full Summary &rarr;</a>
              </div>
            {% endif %}
          </div>
        </section>

        <!-- Sidebar with Latest Headlines -->
        <aside class="headlines-list">
          <h3>Latest Headlines</h3>
          {% if headlines %}
            <div class="list-group">
              {% for article in headlines[1:] %}
                <a
                  href="{{ article.link }}"
                  class="list-group-item list-group-item-action"
                >
                  {{ article.headline }}
                </a>
              {% endfor %}
            </div>
          {% else %}
            <div class="alert alert-info" role="alert">
              No headlines could be loaded at the moment. Please try again later.
            </div>
          {% endif %}
        </aside>
      </main>

      <footer class="text-center text-muted py-4">
        <p>Powered by Flask, Newspaper3k, and Google Gemini.</p>
      </footer>
    </div>
  </body>
</html>
